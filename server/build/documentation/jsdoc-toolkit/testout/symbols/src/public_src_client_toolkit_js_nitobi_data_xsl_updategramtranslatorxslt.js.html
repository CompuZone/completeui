<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.line {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class='line'>  1</span> <span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">updategramTranslatorXslxslt</span><span class="PUNC">=</span><span class="STRN">'&lt;?xml version="1.0"?> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:eba="http://www.ebusinessapplications.ca/ebagrid#"> &lt;xsl:output method="xml" encoding="utf-8" omit-xml-declaration="yes"/> &lt;x:p-x:n-datasource-id"x:s-\'_default\'">&lt;/x:p-> &lt;x:p-x:n-xkField" >&lt;/x:p-> &lt;x:t- match="/"> &lt;root> &lt;x:at-x:s-//eba:datasource[@id=$datasource-id]/eba:data/eba:e" /> &lt;/root> &lt;/x:t-> &lt;x:t- match="eba:e"> &lt;x:c-> &lt;x:wh- test="@xac=\'d\'"> &lt;delete xi="{@xi}" xk="{@*[name() = $xkField]}">&lt;/delete> &lt;/x:wh-> &lt;x:wh- test="@xac=\'i\'"> &lt;insert>&lt;xsl:copy-ofx:s-@*[not(name() = $xkField) and not(name() = \'xac\')]" />&lt;xsl:attributex:n-xk">&lt;x:v-x:s-@*[name() = $xkField]" />&lt;/xsl:attribute>&lt;/insert> &lt;/x:wh-> &lt;x:wh- test="@xac=\'u\'"> &lt;update>&lt;xsl:copy-ofx:s-@*[not(name() = $xkField) and not(name() = \'xac\')]" />&lt;xsl:attributex:n-xk">&lt;x:v-x:s-@*[name() = $xkField]" />&lt;/xsl:attribute>&lt;/update> &lt;/x:wh-> &lt;/x:c-> &lt;/x:t-> &lt;/xsl:stylesheet> '</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>  2</span> </span><span class="NAME">updategramTranslatorXslxslt</span><span class="PUNC">=</span><span class="NAME">updategramTranslatorXslxslt.replace</span><span class="PUNC">(</span><span class="REGX">/x:c-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:choose'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:wh\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:when'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:o\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:otherwise'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:n\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">' name="'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:s\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">' select="'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:va\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:variable'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:v\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:value-of'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:ct\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:call-template'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:w\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:with-param'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:p\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:param'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:t\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:template'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:at\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:apply-templates'</span><span class="PUNC">)</span></pre></body></html>