<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.line {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class='line'>  1</span> <span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">dataTranslatorXslxslt</span><span class="PUNC">=</span><span class="STRN">'&lt;?xml version="1.0"?> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:eba="http://www.ebusinessapplications.ca/ebagrid#"> &lt;xsl:output method="xml" omit-xml-declaration="yes" /> &lt;x:p-x:n-start"x:s-0">&lt;/x:p-> &lt;x:p-x:n-id"x:s-\'_default\'">&lt;/x:p-> &lt;x:p-x:n-xkField"x:s-\'a\'">&lt;/x:p-> &lt;x:t- match="//root"> &lt;eba:grid xmlns:eba="http://www.ebusinessapplications.ca/ebagrid#"> &lt;eba:datasources> &lt;eba:datasource id="{$id}"> &lt;eba:datasourcestructure id="{$id}"> &lt;xsl:attributex:n-FieldNames">&lt;x:v-x:s-@fields" />|_xk&lt;/xsl:attribute> &lt;xsl:attributex:n-Keys">_xk&lt;/xsl:attribute> &lt;/eba:datasourcestructure> &lt;eba:data id="{$id}"> &lt;xsl:for-eachx:s-//e"> &lt;x:at-x:s-."> &lt;x:w-x:n-xi"x:s-position()-1">&lt;/x:w-> &lt;/x:at-> &lt;/xsl:for-each> &lt;/eba:data> &lt;/eba:datasource> &lt;/eba:datasources> &lt;/eba:grid> &lt;/x:t-> &lt;x:t- match="e"> &lt;x:p-x:n-xi"x:s-0">&lt;/x:p-> &lt;eba:e> &lt;xsl:copy-ofx:s-@*[not(name() = \'xk\')]">&lt;/xsl:copy-of> &lt;xsl:if test="not(@xi)">&lt;xsl:attributex:n-xi">&lt;x:v-x:s-$start + $xi" />&lt;/xsl:attribute>&lt;/xsl:if> &lt;xsl:attributex:n-{$xkField}">&lt;x:v-x:s-@xk" />&lt;/xsl:attribute> &lt;/eba:e> &lt;/x:t-> &lt;x:t- match="lookups">&lt;/x:t-> &lt;/xsl:stylesheet>'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>  2</span> </span><span class="NAME">dataTranslatorXslxslt</span><span class="PUNC">=</span><span class="NAME">dataTranslatorXslxslt.replace</span><span class="PUNC">(</span><span class="REGX">/x:c-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:choose'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:wh\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:when'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:o\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:otherwise'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:n\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">' name="'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:s\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">' select="'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:va\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:variable'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:v\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:value-of'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:ct\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:call-template'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:w\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:with-param'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:p\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:param'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:t\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:template'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="REGX">/x\:at\-/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'xsl:apply-templates'</span><span class="PUNC">)</span></pre></body></html>